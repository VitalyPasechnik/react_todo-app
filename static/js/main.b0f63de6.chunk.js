(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{15:function(e,t,c){},16:function(e,t,c){},17:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c.n(n),l=c(8),a=c.n(l),i=c(9),r=(c(15),c(16),c(17),c(3)),s=c(10),u=c(2),d=o.a.createContext(),j=c(1),b=function(e){var t=e.createNewTodo,c=Object(n.useState)(""),o=Object(u.a)(c,2),l=o[0],a=o[1];return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("h1",{children:"todos"}),Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),l.length>0&&(t(l),a(""))},children:Object(j.jsx)("input",{type:"text",className:"new-todo","data-cy":"createTodo",placeholder:"What needs to be done?",value:l,onChange:function(e){return a(e.target.value)}})})]})},f=c(5),h=c.n(f),O=function(e){var t=e.id,c=e.title,o=e.completed,l=e.changeState,a=e.destroyTodo,i=e.changeTitle,r=Object(n.useState)(!1),s=Object(u.a)(r,2),d=s[0],b=s[1],f=Object(n.useState)(c),O=Object(u.a)(f,2),m=O[0],g=O[1],p=function(){b(!d)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("li",{className:h()({completed:o},{editing:d}),children:o?Object(j.jsxs)("div",{className:"view",children:[Object(j.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-completed",onClick:function(e){return l(e.target.checked,t)}}),Object(j.jsx)("label",{htmlFor:"toggle-completed",onDoubleClick:p,children:c}),Object(j.jsx)("button",{type:"button",className:"destroy",onClick:function(){return a(t)}})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"view",children:[Object(j.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view",onChange:function(e){return l(e.target.checked,t)}}),Object(j.jsx)("label",{htmlFor:"toggle-view",onDoubleClick:function(){return p()},children:c}),Object(j.jsx)("button",{type:"button",className:"destroy",onClick:function(){return a(t)}})]}),Object(j.jsx)("input",{type:"text",className:"edit",id:"editTodo",value:m,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){switch(e.key){case"Enter":e.preventDefault(),i(m,t),b(!d);break;case"Escape":case"Mousedown":b(!d)}}})]})})})},m=function(e){var t=e.items,c=e.changeState,o=e.toggleAll,l=e.destroyTodo,a=e.changeTitle,i=Object(n.useState)(!1),r=Object(u.a)(i,2),s=r[0],d=r[1];return Object(j.jsxs)("section",{className:"main",children:[Object(j.jsx)("input",{type:"checkbox",id:"toggle-all","data-cy":"toggleAll",className:"toggle-all",onChange:function(e){d(!s),o(s)}}),Object(j.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(j.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:t.map((function(e){return Object(j.jsx)(O,{changeState:function(e,t){return c(e,t)},changeTitle:function(e,t){return a(e,t)},id:e.id,title:e.title,destroyTodo:function(e){return l(e)},completed:e.completed},e.id)}))})]})},g=function(e){var t=e.chooseFilter,c=Object(n.useState)("All"),o=Object(u.a)(c,2),l=o[0],a=o[1];return Object(j.jsxs)("ul",{className:"filters",children:[Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/",className:h()({selected:"All"===l}),onClick:function(){t("All"),a("All")},children:"All"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/active",className:h()({selected:"Active"===l}),onClick:function(){t("Active"),a("Active")},children:"Active"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/completed",className:h()({selected:"Completed"===l}),onClick:function(){t("Completed"),a("Completed")},children:"Completed"})})]})},p=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],o=t[1],l=Object(n.useState)(c),a=Object(u.a)(l,2),i=a[0],f=a[1],h=Object(n.useState)(!1),O=Object(u.a)(h,2),p=O[0],x=O[1],v=Object(n.useState)(0),N=Object(u.a)(v,2),C=N[0],y=N[1],k=function(e){switch(e){case"All":f(c);break;case"Active":f(c.filter((function(e){return!e.completed})));break;case"Completed":f(c.filter((function(e){return e.completed})))}},T=function(e){c.some((function(t){return t.title===e}))||o([].concat(Object(s.a)(c),[{id:+new Date,title:e,completed:!1}]))},A=function(e){o(c.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{completed:e})})))},w=function(e,t){o(c.map((function(c){return c.id===t?Object(r.a)(Object(r.a)({},c),{},{completed:e}):c})))},S=function(e){o(c.filter((function(t){return t.id!==e})))},F=function(e,t){o(c.map((function(c){return c.id===t?Object(r.a)(Object(r.a)({},c),{},{title:e}):c})))};return Object(n.useEffect)((function(){f(c),y(c.filter((function(e){return!1===e.completed})).length)}),[c]),Object(j.jsx)(d.Provider,{value:{todos:c,setTodos:o,todosCounter:C,setTodosCounter:y,toggleAlls:p,setToggleAlls:x,filterTodos:i,setFilterTodos:f,createNewTodo:T,toggleAll:A,chooseFilter:k,changeState:w,destroyTodo:S,changeTitle:F},children:Object(j.jsxs)("section",{className:"todoapp",children:[Object(j.jsx)(b,{createNewTodo:function(e){return T(e)}}),i.length>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{items:c,toggleAll:function(e){return A(e)},changeState:function(e,t){return w(e,t)},destroyTodo:function(e){return S(e)},changeTitle:function(e,t){return F(e,t)}}),Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsxs)("span",{className:"todo-count","data-cy":"todosCounter",children:[C," ","items left"]}),Object(j.jsx)(g,{chooseFilter:function(e){return k(e)}}),Object(j.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){return o(c.filter((function(e){return!e.completed})))},children:"Clear completed"})]})]})]})})};a.a.render(Object(j.jsx)(i.a,{children:Object(j.jsx)(p,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b0f63de6.chunk.js.map